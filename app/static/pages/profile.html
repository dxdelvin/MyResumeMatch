  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Dashboard | ResumeAI</title>
    <meta name="robots" content="noindex, nofollow" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/navbar.css">
    <link rel="stylesheet" href="/static/css/profile.css">
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2220%22 fill=%22%230a66c2%22/><text x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22central%22 text-anchor=%22middle%22 font-family=%22sans-serif%22 font-weight=%22900%22 font-size=%2250%22 fill=%22white%22>AI</text></svg>">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <script>
      const savedUser = localStorage.getItem("user");
      const isAuthenticated = savedUser && savedUser !== 'null' && savedUser !== 'undefined' && savedUser.trim() !== '';
      if (!isAuthenticated) {
        window.location.href = "/";
      }
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5DS9BK1BGF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5DS9BK1BGF');
</script>
  </head>
  <body>

  <nav class="navbar">
    <div class="nav-container">
      <a href="/" class="logo-container" aria-label="ResumeAI Home">
        <span class="logo-text">Resume</span>
        <span class="logo-badge">AI</span>
      </a>
      <button class="hamburger" aria-label="Toggle navigation">
      <span></span>
      <span></span>
      <span></span>
    </button>
      <div class="nav-links">
        <a href="/profile" class="nav-link">My Profile</a>
        <a href="/builder" class="nav-link">Builder</a>
        <a href="/blog" class="nav-link">Blog</a>
        <a href="/pricing" class="nav-link">Pricing</a>
        <a href="/" class="nav-link logout" onclick="logout(); return false;">Sign Out</a>
      </div>
    </div>
  </nav>

  <main class="main-container">

    <header class="page-header">
      <h1 id="pageTitle">Edit Profile</h1> <p id="pageSubtitle">Update your resume details.</p>
    </header>

    <div class="tabs-container">
       <button class="tab-btn active" onclick="switchProfileTab('settings')">
          <span class="material-icons-round">manage_accounts</span>
          Edit Profile
       </button>
       <button class="tab-btn" onclick="switchProfileTab('wallet')">
          <span class="material-icons-round">account_balance_wallet</span>
          My Wallet
       </button>
    </div>

    <div id="walletView" class="tab-view fade-in" style="display: none;">
        <section class="profile-card" style="border-top: 4px solid #10B981;">
          
          <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;">
            <div style="display: flex; align-items: center; gap: 15px;">
               <div class="avatar-placeholder" style="background: #ecfdf5; color: #10B981;">
                  <span class="material-icons-round">bolt</span>
               </div>
               <div>
                  <h3 style="margin: 0; font-size: 1rem; color: #666;">Available Balance</h3>
                  <h2 id="profileCreditCount" style="margin: 0; font-size: 2.2rem; color: #059669;">--</h2>
               </div>
            </div>
            <a href="/pricing" class="btn-primary" style="background: #10B981; padding: 12px 24px; display: flex; align-items: center; gap: 8px;">
               <span class="material-icons-round" style="font-size: 18px;">add_circle</span> 
               Buy Credits
            </a>
          </div>

          <div id="paymentHistoryContainer" style="display: none; margin-top: 40px;">
              <h4 style="margin-bottom: 20px; font-size: 0.95rem; color: #444; border-bottom: 2px solid #f3f4f6; padding-bottom: 10px;">
                Transaction History
              </h4>
              <table class="history-table">
                 <thead>
                    <tr>
                       <th>Date</th>
                       <th>Plan</th>
                       <th>Amount</th>
                       <th style="text-align: right;">Credits</th>
                    </tr>
                 </thead>
                 <tbody id="paymentHistoryBody">
                    </tbody>
              </table>
          </div>

          <div id="emptyHistory" style="display:none; text-align: center; padding: 40px; color: #999;">
             <span class="material-icons-round" style="font-size: 48px; color: #eee;">receipt_long</span>
             <p>No transactions yet.</p>
          </div>

        </section>
    </div>

    <div id="settingsView" class="tab-view">
        <section class="profile-card">
          <div class="avatar-section">
            <div class="avatar-placeholder">
              <span id="avatarInitials">ME</span>
            </div>
            <div class="avatar-info">
              <h3>Personal Details</h3>
              <p>Used to auto-fill your resume headers.</p>
            </div>
          </div>

          <hr class="divider">

          <form id="profileForm">
            <div class="form-grid">
              <div class="form-group">
                <label for="fullName">Full Name *</label>
                <input type="text" id="fullName" placeholder="Ex: John Doe" required>
              </div>

              <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" class="disabled-input" disabled>
              </div>

              <div class="form-group">
                <label for="phone">Phone Number (Optional)</label>
                <input type="tel" id="phone" placeholder="Ex: +1 (555) 000-0000">
              </div>

              <div class="form-group">
                <label for="location">Location (Optional)</label>
                <input type="text" id="location" placeholder="City, Country">
              </div>
            </div>

            <hr class="divider">

            <h4 class="section-title">Links (Optional)</h4>
            <div class="form-grid">
              <div class="form-group full-width">
                <label for="linkedin">LinkedIn</label>
                <div class="input-icon-wrapper">
                  <span class="icon">in</span>
                  <input type="url" id="linkedin" placeholder="https://linkedin.com/in/username">
                </div>
              </div>

              <div class="form-group full-width">
                <label for="portfolio">Portfolio</label>
                <div class="input-icon-wrapper">
                  <span class="icon">üåê</span>
                  <input type="url" id="portfolio" placeholder="https://myportfolio.com">
                </div>
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn-primary">Save Profile</button>
            </div>
          </form>
          <div id="dangerZone" style="margin-top: 50px; padding-top: 30px; border-top: 1px solid #fee2e2; display: none;">
            <h4 style="color: #dc2626; margin-bottom: 10px; font-size: 0.95rem;">Danger Zone</h4>
            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
              <p style="font-size: 0.85rem; color: #666; margin: 0; max-width: 400px;">
                Once you delete your account, there is no going back. All saved data and credits will be permanently lost.
              </p>
              <button onclick="handleDeleteAccount()" 
                      style="background: white; border: 1px solid #ef4444; color: #ef4444; padding: 10px 20px; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.2s;"
                      onmouseover="this.style.background='#fef2f2'"
                      onmouseout="this.style.background='white'">
                Delete Account
              </button>
            </div>
          </div>
        </section>
    </div>

  </main>

  <script src="/static/js/profile.js"></script>

  <script>

    // Optional: Update the avatar initials based on the name loaded by profile.js
    setTimeout(() => {
      const nameInput = document.getElementById("fullName").value;
      if (nameInput) {
        const initials = nameInput.split(" ").map(n => n[0]).join("").substring(0,2).toUpperCase();
        document.getElementById("avatarInitials").innerText = initials;
      }
    }, 100);


    document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("profileForm");
  if (form) {
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      saveProfile();
    });
  }
});



  </script>

  <script src="/static/js/app.js"></script>
  <script src="/static/js/common.js"></script>


  </body>
  </html>