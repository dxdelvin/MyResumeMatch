/* --- 1. Global & Reset --- */
:root {
  --primary: #0a66c2;
  --primary-dark: #004182;
  --bg-editor: #ffffff;
  --bg-preview: #e9ebee; /* Slightly darker for contrast */
  --text-main: #191919;
  --text-sub: #666666;
  --border: #e0e0e0;
  --nav-height: 60px;
  --success: #057642;
  --warning: #f5c75d;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: 'Inter', sans-serif;
  background-color: var(--bg-preview);
  height: 100vh; /* Full viewport height */
  display: flex;
  flex-direction: column;
  overflow: hidden; /* Prevent outer body scroll */
}

/* --- Main Split-Screen Layout --- */
.studio-container {
  flex-grow: 1; /* Take remaining height */
  display: grid;
  /* Left column fixed 400px, Right column takes rest */
  grid-template-columns: 400px 1fr; 
  height: calc(100vh - var(--nav-height));
}

/* --- 4. Left Pane: Editor Inputs --- */
.editor-pane {
  background: var(--bg-editor);
  border-right: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  height: 100%;
}

.pane-header {
  padding: 20px 25px;
  border-bottom: 1px solid var(--border);
}
.pane-header h2 { font-size: 1.2rem; }
.pane-header p { color: var(--text-sub); font-size: 0.9rem; }

.editor-scroll-content {
  padding: 25px;
  overflow-y: auto; /* Independent internal scroll */
  flex-grow: 1;
}

.input-group { margin-bottom: 25px; }
.input-label, .tool-label {
  display: flex; align-items: center; gap: 8px;
  font-weight: 600; font-size: 0.9rem; margin-bottom: 10px; color: var(--text-main);
}
.material-icons-round { font-size: 20px; color: var(--text-sub); }

textarea {
  width: 100%; height: 180px;
  padding: 15px; border: 1px solid var(--border); border-radius: 8px;
  resize: vertical; font-family: inherit; background: #fafafa;
}
textarea:focus, select:focus { outline: 2px solid var(--primary); border-color: transparent; background: #fff; }

.modern-select {
  width: 100%; padding: 10px; border-radius: 6px; border: 1px solid var(--border); cursor: pointer;
}

.editor-actions {
  padding: 20px 25px;
  border-top: 1px solid var(--border);
  background: #fff;
}

/* --- 5. Right Pane: Preview & Analysis --- */
.preview-pane {
  background: var(--bg-preview);
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

/* Sticky Analysis Bar */
.sticky-bar {
  /* Glassmorphism effect floating over the paper */
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(0,0,0,0.1);
  padding: 15px 30px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 4px 20px rgba(0,0,0,0.05);
  z-index: 10;
}

/* Interactive ATS Gauge */
.ats-widget { display: flex; align-items: center; }
.gauge-circle {
  width: 60px; height: 60px;
  border-radius: 50%;
  /* Magic CSS trick for circular progress using conic-gradient based on --score var */
  background: conic-gradient(var(--primary) calc(var(--score) * 1%), #e0e0e0 0deg);
  display: flex; align-items: center; justify-content: center;
  position: relative;
}
/* The inner white circle */
.gauge-inner {
  width: 48px; height: 48px; background: #fff; border-radius: 50%;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
}
.score-num { font-weight: 800; font-size: 1.1rem; line-height: 1; color: var(--primary); }
.score-label { font-size: 0.6rem; text-transform: uppercase; color: var(--text-sub); font-weight: 600;}

/* Suggestions Widget */
.suggestions-widget {
  flex-grow: 1; margin: 0 30px;
  background: #fff8e1; border: 1px solid #ffeeba;
  padding: 10px 15px; border-radius: 8px; font-size: 0.9rem;
  display: flex; align-items: flex-start; gap: 10px; max-height: 60px; overflow-y: auto;
}
.icon-yellow { color: #f57f17; }
.widget-title { font-weight: 600; display: flex; align-items: center; gap: 5px; color: #856404;}
.compact-list { list-style: none; margin: 0; padding: 0; flex-grow: 1;}
.compact-list li { margin-bottom: 4px; color: #856404; }
.placeholder-insight { font-style: italic; opacity: 0.7; }

/* Preview Scroll Area */
.preview-scroll-container {
  flex-grow: 1;
  overflow-y: auto; /* Scroll only the paper area */
  padding: 40px;
  display: flex; justify-content: center;
}

/* The A4 Paper */
.paper-a4 {
  background: #fff;
  width: 210mm; min-height: 297mm; /* A4 dimensions */
  padding: 20mm;
  box-shadow: 0 10px 30px rgba(0,0,0,0.15);
  outline: none;
  /* Resume typography defaults */
  font-family: 'Times New Roman', serif; color: #000; line-height: 1.4;
}
.paper-placeholder {
  text-align: center; color: #ccc; font-family: 'Inter', sans-serif; padding-top: 100px;
}

/* --- 6. Buttons --- */
.btn-primary {
  background: var(--primary); color: #fff; border: none;
  padding: 12px 24px; border-radius: 30px; font-weight: 600;
  display: flex; align-items: center; justify-content: center; gap: 8px;
  cursor: pointer; transition: all 0.2s;
}
.btn-primary:hover { background: var(--primary-dark); box-shadow: 0 4px 12px rgba(10, 102, 194, 0.3); }
.full-width { width: 100%; }

.btn-icon-text {
  background: #fff; border: 1px solid var(--border); color: var(--text-main);
  padding: 8px 16px; border-radius: 20px; font-weight: 600; font-size: 0.9rem;
  display: flex; align-items: center; gap: 8px; cursor: pointer;
}
.btn-icon-text:hover { border-color: var(--primary); color: var(--primary); }
.btn-icon-text .material-icons-round { font-size: 18px; }

/* --- 7. Responsive & Print --- */
@media (max-width: 900px) {
  .studio-container { grid-template-columns: 1fr; height: auto; } /* Stack on tablet */
  .editor-pane { height: auto; border-right: none; border-bottom: 1px solid var(--border); }
  .preview-pane { height: 800px; } /* Give preview fixed height on mobile stack */
  .paper-a4 { width: 100%; padding: 15mm; }
  .sticky-bar { flex-direction: column; gap: 15px; align-items: flex-start; }
  .suggestions-widget { margin: 0; width: 100%; }
}

@media print {
  /* Hide everything except the paper */
  body { background: #fff; height: auto; overflow: visible; }
  .navbar, .editor-pane, .analysis-header { display: none !important; }
  .studio-container, .preview-pane, .preview-scroll-container {
    display: block; height: auto; overflow: visible; margin: 0; padding: 0;
  }
  .paper-a4 {
    box-shadow: none; margin: 0; width: 100%; padding: 0; /* Printer manages margins */
  }
}